@model IEnumerable<Beanfamily.Models.SanPhamMenuBuffet>
@using Beanfamily.Models
@{
    BeanfamilyEntities models = new BeanfamilyEntities();
    var Dmpv = models.DanhMucPhucVuMenuTiecBanVaMenuBuffet.ToList();

    var tk = Session["user-data"] as TaiKhoanKhachHang;
}
<div id="contentDatBan" class="col-lg-12" style="border: 2px solid #ffc678; border-radius: 16px; padding: 0">
    <h5 class="text-center mb-3 text-white" style="background: #5e443b !important; border-radius: 16px 16px 0 0; height: 40px; display: flex; flex-direction: column; justify-content: center; ">Thông Tin Món & Dịch Vụ</h5>
    <div class="row p-l-15 p-r-15">
        @foreach (var item in Model)
        {
            <div class="col-md-4 col-sm-12">
                <ul style=" list-style-position: outside !important;" class=" ms-3">
                    <li class="mt-1" style="list-style-type: none !important;">
                        @if (!string.IsNullOrEmpty(item.hinhanh))
                        {
                            <div style=" display: flex; flex-direction: row; justify-content: left; align-items: center;">
                                <div>
                                    <div style="margin-right: 10px; height: 40px; width: 40px; float: left">
                                        <img style="float: left; height: 40px; width: 40px;object-fit: cover; border-radius: 50% " src="@Url.Content(item.hinhanh)">
                                    </div>
                                </div>
                                <div>
                                    <label>@item.tensanpham</label>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div style=" display: flex; flex-direction: row; justify-content: left; align-items: center;">
                                <div>
                                    <label>@item.tensanpham</label>
                                </div>
                            </div>
                        }

                    </li>
                </ul>
            </div>
        }
    </div>
    <hr class="my-3" />
    <div class="row p-l-15 p-r-15">
        @foreach (var item in Dmpv)
        {
            <div class="col-md-4 col-sm-12">
                <ul style=" list-style-position: outside !important;">
                    <li style="list-style-type: disc !important; margin-left: 66px">
                        @item.tendanhmuc | @(item.gia.ToString("0,0").Equals("00") ? "0" : item.gia.ToString("0,0")) đ
                    </li>
                </ul>
            </div>
        }
    </div>
    <h5 class="text-center mb-3 mt-3 text-white" style="background: #5e443b !important;height: 40px; display: flex; flex-direction: column; justify-content: center; ">Thông Tin Chi Phí</h5>
    <div class="row p-l-15 p-r-15">
        <div class="col-md-5">
            <h6 style="font-weight: normal; color: #333333;" class="t-center mb-3 float-end">Giá bữa tiệc:</h6>
        </div>
        <div class="col-md-7">
            <h6 id="tamtinhgiamon" price="0" style="font-weight: normal; color: #C49A6C;" class="t-center mb-3 float-start">SẼ ĐƯỢC BÁO SAU KHI ĐẶT BÀN</h6>
        </div>

        @foreach (var item in Dmpv)
        {
            if (item.giatheosoban == true)
            {
                <div class="col-md-5">
                    <h6 style="font-weight: normal; color: #333333;" class="t-center mb-3 float-end">@item.tendanhmuc:</h6>
                </div>
                <div class="col-md-7">
                    <h6 id="tamtinhgiaphucvu-@item.id" priceType="@item.giatheosoban.ToString().ToLower()" price="@item.gia.ToString("0")" style="font-weight: normal; color: #C49A6C;" class="t-center mb-3 float-start">@(item.gia.ToString("0,0").Equals("00") ? "0" : item.gia.ToString("0,0")) x 0 bàn = 0 đ</h6>
                </div>
            }
            else
            {
                <div class="col-md-5">
                    <h6 style="font-weight: normal; color: #333333;" class="t-center mb-3 float-end">@item.tendanhmuc:</h6>
                </div>
                <div class="col-md-7">
                    <h6 id="tamtinhgiaphucvu-@item.id" priceType="@item.giatheosoban.ToString().ToLower()" price="@item.gia.ToString("0")" style="font-weight: normal; color: #C49A6C;" class="t-center mb-3 float-start">@(item.gia.ToString("0,0").Equals("00") ? "0" : item.gia.ToString("0,0")) <small style="font-weight: normal">(cố định)</small></h6>
                </div>
            }
        }

        <div class="col-md-5">
            <h6 id="tamtinhtong" style="font-weight: bold; color: #333333;" class="t-center mb-3 float-end">Tổng:</h6>
        </div>
        <div class="col-md-7">
            <h6 price="@(Dmpv.Where(w => w.giatheosoban == true).Sum(s => s.gia).ToString("0"))" priceStatic="@(Dmpv.Where(w => w.giatheosoban == false).Sum(s => s.gia).ToString("0"))" id="tongtamtinh" style="font-weight: bold; color: #C49A6C;" class="t-center mb-3 float-start">@((Dmpv.Where(w => w.giatheosoban == false).Sum(s => s.gia).ToString("0,0")).Equals("00") ? "0" : Dmpv.Where(w => w.giatheosoban == false).Sum(s => s.gia).ToString("0,0")) đ + Giá bữa tiệc <small style="font-weight: normal">(tạm tính)</small></h6>
        </div>

    </div>

    <h5 class="text-center mb-3 text-white" style="background: #5e443b !important; height: 40px; display: flex; flex-direction: column; justify-content: center; ">Thông Tin Đặt Bàn</h5>
    @if (tk == null)
    {
        <div class="row p-l-25 p-r-25">
            <div class="col-md-6">
                <span class="txt9" style="color: #333 !important">
                    Số bàn (10 người / bàn) <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputpeople size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20" data-type="numbers" type="text" id="soban" name="tabled" placeholder="10 bàn...">
                    <label style="margin-left: 5px" id="invalid-soban-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Số điện thoại <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputphone size12 bo-rad-10 m-t-3 m-b-23">
                    <input data-type="numbers" style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20 border-1" type="text" id="sodienthoai" name="phone" placeholder="Phone">
                    <label style="margin-left: 5px" id="invalid-sodienthoai-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Ngày tổ chức <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputdate pos-relative txt10 size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="my-calendar bo-rad-10 sizefull txt10 p-l-20" id="ngaytochuc" type="text" name="date">
                    <i class="btn-calendar fa fa-calendar ab-r-m hov-pointer m-r-18" aria-hidden="true"></i>
                    <label style="margin-left: 5px" id="invalid-ngaytochuc-feedback" class="text-danger" hidden></label>
                </div>

            </div>

            <div class="col-md-6">
                <span class="txt9" style="color: #333 !important">
                    Họ và Tên <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputname size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20" type="text" id="hovaten" name="name" placeholder="Nguyễn Văn A...">
                    <label style="margin-left: 5px" id="invalid-hovaten-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Địa chỉ Email
                </span>

                <div class="wrap-inputemail size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20" type="text" id="email" name="email" placeholder="emailcuaban@email.com">
                    <label style="margin-left: 5px" id="invalid-email-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Giờ tổ chức <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputtime size12 bo-rad-10 m-t-3 m-b-23 selection-datban-parent" id="selectThoiGianDatBan">
                    <select class="selection-1" name="time">
                        <option>07:00</option>
                        <option>07:30</option>
                        <option>08:00</option>
                        <option>08:30</option>
                        <option>09:00</option>
                        <option>09:30</option>
                        <option>10:00</option>
                        <option>10:30</option>
                        <option>11:00</option>
                        <option>11:30</option>
                        <option>12:00</option>
                        <option>12:30</option>
                        <option>13:00</option>
                        <option>13:30</option>
                        <option>14:00</option>
                        <option>14:30</option>
                        <option>15:00</option>
                        <option>15:30</option>
                        <option>16:00</option>
                        <option>16:30</option>
                        <option>17:00</option>
                        <option>17:30</option>
                        <option>18:00</option>
                        <option>18:30</option>
                        <option>19:00</option>
                        <option>19:30</option>
                        <option>20:00</option>
                        <option>20:30</option>
                        <option>21:00</option>
                        <option>21:30</option>
                        <option>22:00</option>
                    </select>
                </div>
            </div>
            <div class="col-md-12">
                <span class="txt9" style="color: #333 !important">
                    Ghi chú
                </span>
                <textarea style="background: #122E26; color: #fff !important" class="bo-rad-10 size35 txt10 p-l-20 p-t-15 m-b-10 m-t-3" rows="4" id="ghichu" name="ghichu" placeholder="Ghi chú thêm (nếu có)"></textarea>
            </div>
        </div>
    }
    else
    {
        <div class="row p-l-25 p-r-25">
            <div class="col-md-6">
                <span class="txt9" style="color: #333 !important">
                    Số bàn (4 người / bàn) <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputpeople size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important " class="bo-rad-10 sizefull txt10 p-l-20" data-type="numbers" type="text" id="soban" name="tabled" placeholder="10 bàn...">
                    <label style="margin-left: 5px" id="invalid-soban-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Số điện thoại <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputphone size12 bo-rad-10 m-t-3 m-b-23">
                    <input value="@tk.sodienthoai" data-type="numbers" style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20 border-1" type="text" id="sodienthoai" name="phone" placeholder="Phone">
                    <label style="margin-left: 5px" id="invalid-sodienthoai-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Ngày tổ chức <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputdate pos-relative txt10 size12 bo-rad-10 m-t-3 m-b-23">
                    <input style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="my-calendar bo-rad-10 sizefull txt10 p-l-20" id="ngaytochuc" type="text" name="date">
                    <i class="btn-calendar fa fa-calendar ab-r-m hov-pointer m-r-18" aria-hidden="true"></i>
                    <label style="margin-left: 5px" id="invalid-ngaytochuc-feedback" class="text-danger" hidden></label>
                </div>

            </div>

            <div class="col-md-6">
                <span class="txt9" style="color: #333 !important">
                    Họ và Tên <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputname size12 bo-rad-10 m-t-3 m-b-23">
                    <input value="@tk.hovaten" style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20" type="text" id="hovaten" name="name" placeholder="Nguyễn Văn A...">
                    <label style="margin-left: 5px" id="invalid-hovaten-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Địa chỉ Email
                </span>

                <div class="wrap-inputemail size12 bo-rad-10 m-t-3 m-b-23">
                    <input value="@tk.email" style="border: 1px solid #333 !important; background: #122E26; color: #fff !important" class="bo-rad-10 sizefull txt10 p-l-20" type="text" id="email" name="email" placeholder="emailcuaban@email.com">
                    <label style="margin-left: 5px" id="invalid-email-feedback" class="text-danger" hidden></label>
                </div>

                <span class="txt9" style="color: #333 !important">
                    Giờ tổ chức <span class="text-danger">*</span>
                </span>

                <div class="wrap-inputtime size12 bo-rad-10 m-t-3 m-b-23 selection-datban-parent" id="selectThoiGianDatBan">
                    <select class="selection-1" name="time">
                        <option>07:00</option>
                        <option>07:30</option>
                        <option>08:00</option>
                        <option>09:30</option>
                        <option>09:00</option>
                        <option>09:30</option>
                        <option>10:00</option>
                        <option>10:30</option>
                        <option>11:00</option>
                        <option>11:30</option>
                        <option>12:00</option>
                        <option>12:30</option>
                        <option>13:00</option>
                        <option>13:30</option>
                        <option>14:00</option>
                        <option>14:30</option>
                        <option>15:00</option>
                        <option>15:30</option>
                        <option>16:00</option>
                        <option>16:30</option>
                        <option>17:00</option>
                        <option>17:30</option>
                        <option>18:00</option>
                        <option>18:30</option>
                        <option>19:00</option>
                        <option>19:30</option>
                        <option>20:00</option>
                        <option>20:30</option>
                        <option>21:00</option>
                        <option>21:30</option>
                        <option>22:00</option>
                    </select>
                </div>
            </div>
            <div class="col-md-12">
                <span class="txt9" style="color: #333 !important">
                    Ghi chú
                </span>
                <textarea style="background: #122E26; color: #fff !important" class="bo-rad-10 size35 txt10 p-l-20 p-t-15 m-b-10 m-t-3" rows="4" id="ghichu" name="ghichu" placeholder="Ghi chú thêm (nếu có)"></textarea>
            </div>
        </div>
    }
    <script src="~/ActionOnPage/MenuBuffet/SubmitFormDatBan.js"></script>
</div>
